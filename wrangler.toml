name = "strategy-entry-signal-worker"
main = "workers/entry-signal-worker.ts"
compatibility_date = "2026-02-09"

[[d1_databases]]
binding = "SIGNALS_DB"
database_name = "signal"
database_id = "ba727aeb-077a-4fed-a526-e07e97c61f6b"
migrations_dir = "workers/migrations"

[triggers]
# Multi-timeframe scheduler:
# - Runs every minute.
# - Worker aligns execution to second 10 in code.
# - Interval gating in worker code prevents over-polling for higher timeframes.
crons = ["* * * * *"]

[vars]
# Optional: override Binance-compatible candle sources (CSV, ordered fallback).
MARKET_DATA_API_BASES = "https://api.mexc.com,https://api.binance.us,https://data-api.binance.vision"
# Minimum required closed candles for subscription evaluation.
MIN_CLOSED_CANDLES = "120"
