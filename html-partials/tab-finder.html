<!-- Finder Tab -->
<div id="finderTab">
    <div class="section-title">Strategy Finder</div>

    <div class="section-header">
        <div class="section-title">Sorting</div>
        <div style="display: flex; align-items: center; gap: 8px;">
            <span style="font-size: 10px; color: var(--text-secondary); font-weight: 600;">ADVANCED</span>
            <label class="section-toggle" aria-label="Toggle advanced sort">
                <input type="checkbox" id="finderAdvancedToggle">
                <span class="section-toggle-track"></span>
            </label>
        </div>
    </div>

    <!-- Simple Sort Mode -->
    <div class="param-row" id="finderSimpleSort">
        <div class="param-group">
            <label class="param-label">Sort By</label>
            <select class="param-input" id="finderSort">
                <!-- Populated by JS -->
            </select>
        </div>
        <div class="param-group">
            <label class="param-label">Then By</label>
            <select class="param-input" id="finderSortSecondary">
                <!-- Populated by JS -->
            </select>
        </div>
    </div>

    <!-- Advanced Sort Mode -->
    <div class="finder-sort-list" id="finderSortList" style="display: none;">
        <!-- Sort Items injected by JS -->
    </div>

    <div class="param-row">
        <div class="param-group">
            <label class="param-label">Top Results</label>
            <input type="number" class="param-input" id="finderTopN" value="10" min="1" max="100">
        </div>
        <div class="param-group">
            <label class="param-label">Runs / Strategy</label>
            <input type="number" class="param-input" id="finderMaxRuns" value="555" min="1" max="1000">
        </div>
    </div>

    <div class="param-row">
        <div class="param-group">
            <label class="param-label">Search Mode</label>
            <select class="param-input" id="finderMode">
                <option value="grid">Grid Sweep</option>
                <option value="random" selected>Random Search</option>
            </select>
        </div>
        <div class="param-group">
            <label class="param-label">Range (%)</label>
            <input type="number" class="param-input" id="finderRange" value="555" min="0" max="1000" step="5">
        </div>
    </div>

    <div class="param-row">
        <div class="param-group">
            <label class="param-label">Steps / Param</label>
            <input type="number" class="param-input" id="finderSteps" value="3" min="2" max="7">
        </div>
    </div>

    <div class="section-header">
        <div class="section-title">Strategies</div>
        <label class="section-toggle" aria-label="Toggle all strategies">
            <input type="checkbox" id="finderStrategiesToggleAll">
            <span class="section-toggle-track"></span>
        </label>
    </div>
    <div class="section-body strategy-list-container" id="finderStrategyList">
        <!-- Strategies will be injected here -->
    </div>

    <div class="section-header">

        <div class="section-title">Trade Count Filter</div>
        <label class="section-toggle" aria-label="Toggle trade count filter">
            <input type="checkbox" id="finderTradesToggle">
            <span class="section-toggle-track"></span>
        </label>
    </div>
    <div class="section-body" id="finderTradeFilters">
        <div class="param-row">
            <div class="param-group">
                <label class="param-label">Min Trades</label>
                <input type="number" class="param-input" id="finderTradesMin" value="0" min="0">
            </div>
            <div class="param-group">
                <label class="param-label">Max Trades</label>
                <input type="number" class="param-input" id="finderTradesMax" placeholder="No max" min="0">
            </div>
        </div>
    </div>

    <button class="btn btn-primary run-btn" id="runFinder">
        <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M8 5v14l11-7z" />
        </svg>
        Run Finder
    </button>

    <div class="progress-container" id="finderProgress">
        <div class="progress-bar">
            <div class="progress-fill" id="finderProgressFill"></div>
        </div>
        <div class="progress-text" id="finderProgressText">Ready</div>
    </div>

    <div class="finder-status" id="finderStatus">Idle</div>

    <div class="finder-results">
        <div class="finder-actions-bar">
            <button class="btn btn-secondary btn-compact" id="finderCopyTopResults" type="button" title="Copy metadata for all top results">
                Copy Top Results
            </button>
        </div>
        <div class="finder-header">
            <span>Rank</span>
            <span>Strategy</span>
            <span>Use</span>
        </div>
        <div class="empty-state" id="finderEmpty">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 3h18v2H3V3zm0 16h18v2H3v-2zm0-8h18v2H3v-2zm0-4h18v2H3V7z" />
            </svg>
            <h3>No Finder Results</h3>
            <p>Run the finder to rank strategies</p>
        </div>
        <div class="finder-list" id="finderList">
        </div>
    </div>
</div>
